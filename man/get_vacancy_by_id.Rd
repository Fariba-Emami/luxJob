% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/vacancy_by_id.R
\name{get_vacancy_by_id}
\alias{get_vacancy_by_id}
\title{Retrieve Vacancy Details and Required Skills by ID}
\usage{
get_vacancy_by_id(vacancy_id)
}
\arguments{
\item{vacancy_id}{Integer. The unique ID of the vacancy to retrieve details for.
Must be a single, non-missing, positive integer value.}
}
\value{
A list containing two data frames:
\describe{
\item{\code{vacancy}}{A 1-row \code{data.frame} with columns \code{vacancy_id},
\code{company_id}, \code{occupation}, \code{canton}, \code{year}, \code{month} for the
specified vacancy.}
\item{\code{skills}}{A \code{data.frame} (potentially with 0 rows) containing
columns \code{skill_id} and \code{skill_label} for all skills required
for that vacancy.}
}
Returns \code{NULL} if the \code{vacancy_id} is not found in the \code{adem.vacancies}
table. Stops with an error if the database query fails or if the input
\code{vacancy_id} is invalid.
}
\description{
Fetches detailed information about a specific job vacancy from
\code{adem.vacancies} and retrieves all associated required skills by joining
with \code{adem.skills} through the \code{adem.vacancy_skills} table.
Uses secure parameterized queries and proper error handling.
}
\examples{
\dontrun{
# Assumes connect_db is defined and database credentials are set

# Get details for vacancy with ID 123456 (replace with a valid ID)
details <- get_vacancy_by_id(123456)
if (!is.null(details)) {
  print("Vacancy Info:")
  print(details$vacancy)
  print("Required Skills:")
  print(details$skills)
} else {
  print("Vacancy with ID 123456 not found.")
}

# Try an ID that likely doesn't exist
non_existent <- get_vacancy_by_id(99999999)
print(is.null(non_existent)) # Should be TRUE

# Examples of invalid input (will cause errors)
try(get_vacancy_by_id("abc"))
try(get_vacancy_by_id(c(1, 2)))
try(get_vacancy_by_id(10.5))
try(get_vacancy_by_id(0)) # Added check for positive ID
try(get_vacancy_by_id(NA))
}

}
\seealso{
\code{\link[=get_vacancies]{get_vacancies()}}, \code{\link[=get_skill_by_id]{get_skill_by_id()}}, \code{\link[=connect_db]{connect_db()}} # Add others if they exist
}
